usb_bus_lspci(){ lspci|awk '/USB/ {print $1}'|xargs -n 1 printf "0000:%s\n";};usb_bus_ls(){ dmesg|awk '/usb usb.*SerialNumber:/ {print $6}';};usb_ls_dev(){ for X in /sys/bus/usb/devices/*;do echo "$X";cat "$X/idVendor" 2>/dev/null;cat "$X/idProduct" 2>/dev/null;echo;done;};usb_bus_off(){ for BUS;do echo -n "$BUS"|grep -E "[0-9]+:[0-9]+:1"|sudo tee /sys/bus/pci/drivers/uhci_hcd/unbind /sys/bus/pci/drivers/ohci_hcd/unbind /sys/bus/pci/drivers/ehci_hcd/unbind /sys/bus/pci/drivers/xhci_hcd/unbind 2>/dev/null;done;};usb_bus_on(){ for BUS;do echo -n "$BUS"|grep -E "[0-9]+:[0-9]+:1"|sudo tee /sys/bus/pci/drivers/uhci_hcd/bind /sys/bus/pci/drivers/ohci_hcd/bind /sys/bus/pci/drivers/ehci_hcd/bind /sys/bus/pci/drivers/xhci_hcd/bind 2>/dev/null;done;};usb_bus_reset(){ usb_bus_off "$@";usb_bus_on "$@";};usb_reset_all(){ usb_bus_reset $(usb_bus_ls);}