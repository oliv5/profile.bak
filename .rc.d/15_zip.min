zp(){ for SRC;do if [ "$SRC" != "${SRC%.zip}" ];then zpd "." "$SRC";else zpa "${SRC%%/*}.zip" "$SRC";fi;done;};zpa(){ local ARCHIVE="${1:?No archive to create...}";shift 1;zip -r9 "$ARCHIVE" "$@";};zpd(){ local DST="${1:?No output directory specified...}";local SRC;shift;for SRC;do unzip "$SRC" -d "${DST:+$DST/}";done;};zpt(){ local RES=0;local SRC;for SRC;do unzip -tq "$SRC"||RES=$?;done;return $RES;};zpg(){ local KEY="${1:?No encryption key specified...}";shift;for SRC;do if [ "$SRC" != "${SRC%.zip.gpg}" ];then zpgd "." "$SRC";else zpga "$KEY" "${SRC%%/*}.zip.gpg" "$SRC";fi;done;};zpga(){ local KEY="${1:?No encryption key specified...}";local ARCHIVE="${2:?No archive to create...}";shift 2;zip -r9 - "$@"|gpg --encrypt --recipient "$KEY">"$ARCHIVE";};zpgd(){ local DST="${1:?No output directory specified...}";local SRC;shift 1;mkdir -p "$DST";for SRC;do gpg --decrypt --batch "$SRC"|funzip>"$DST/$(basename "${SRC%.zip.gpg}")";done;};[ "${1#zp}" != "$1" ]&&"$@"||true