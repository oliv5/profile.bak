taz(){ for SRC;do if [ "$SRC" != "${SRC%.tar}" ];then tad "." "$SRC";else taa "${SRC%%/*}.tar" "$SRC";fi;done;};taa(){ local ARCHIVE="${1:?No archive to create...}";shift;tar -cvf "$ARCHIVE" "$@";};tad(){ local DST="${1:?No output directory specified...}";local SRC;shift;mkdir -p "$DST";for SRC;do tar -xvf "$SRC" -C "$DST";done;};tag(){ local KEY="${1:?No encryption key specified...}";shift;for SRC;do if [ "$SRC" != "${SRC%.tar.gpg}" ];then tagd "." "$SRC";else taga "$KEY" "${SRC%%/*}.tar.gpg" "$SRC";fi;done;};taga(){ local KEY="${1:?No encryption key specified...}";local ARCHIVE="${2:?No archive to create...}";shift 2;tar -cf - "$@"|gpg --encrypt --batch --recipient "$KEY">"$ARCHIVE";};tagd(){ local DST="${1:?No output directory specified...}";local SRC;shift 1;mkdir -p "$DST";for SRC;do gpg --decrypt --batch "$SRC"|tar -xvf - -C "$DST";done;};tgz(){ for SRC;do if [ "$SRC" != "${SRC%.tgz}" ]||[ "$SRC" != "${SRC%.tar.gz}" ];then tgzd "." "$SRC";else tgza "${SRC%%/*}.tgz" "$SRC";fi;done;};tgza(){ local ARCHIVE="${1:?No archive to create...}";shift;tar -cvzf "$ARCHIVE" "$@";};tgzd(){ local DST="${1:?No output directory specified...}";local SRC;shift;mkdir -p "$DST";for SRC;do tar -xvzf "$SRC" -C "$DST";done;};tgzt(){ local RES=0;local SRC;for SRC;do tar -tzf "$SRC">/dev/null||RES=$?;done;return $RES;};tgzg(){ local KEY="${1:?No encryption key specified...}";shift;for SRC;do if [ "$SRC" != "${SRC%.tgz.gpg}" ]||[ "$SRC" != "${SRC%.tar.gz.gpg}" ];then tgzgd "." "$SRC";else tgzga "$KEY" "${SRC%%/*}.tgz.gpg" "$SRC";fi;done;};tgzga(){ local KEY="${1:?No encryption key specified...}";local ARCHIVE="${2:?No archive to create...}";shift 2;tar -czf - "$@"|gpg --encrypt --batch --recipient "$KEY">"$ARCHIVE";};tgzgd(){ local DST="${1:?No output directory specified...}";local SRC;shift 1;mkdir -p "$DST";for SRC;do gpg --decrypt --batch "$SRC"|tar -xvzf - -C "$DST";done;};tbz(){ for SRC;do if [ "$SRC" != "${SRC%.tbz}" ]||[ "$SRC" != "${SRC%.tbz2}" ]||[ "$SRC" != "${SRC%.tar.bz}" ]||[ "$SRC" != "${SRC%.tar.bz2}" ];then tbzd "." "$SRC";else tbza "${SRC%%/*}.tbz" "$SRC";fi;done;};tbza(){ local ARCHIVE="${1:?No archive to create...}";shift;tar -cvjf "$ARCHIVE" "$@";};tbzd(){ local DST="${1:?No output directory specified...}";local SRC;shift;mkdir -p "$DST";for SRC;do tar -xvjf "$SRC" -C "$DST";done;};tbzg(){ local KEY="${1:?No encryption key specified...}";shift;for SRC;do if [ "$SRC" != "${SRC%.tbz.gpg}" ]||[ "$SRC" != "${SRC%.tar.bz.gpg}" ];then tbzgd "." "$SRC";else tbzga "$KEY" "${SRC%%/*}.tbz.gpg" "$SRC";fi;done;};tbzga(){ local KEY="${1:?No encryption key specified...}";local ARCHIVE="${2:?No archive to create...}";shift 2;tar -cjf - "$@"|gpg --encrypt --batch --recipient "$KEY">"$ARCHIVE";};tbzgd(){ local DST="${1:?No output directory specified...}";local SRC;shift 1;mkdir -p "$DST";for SRC;do gpg --decrypt --batch "$SRC"|tar -xvjf - -C "$DST";done;};txz(){ for SRC;do if [ "$SRC" != "${SRC%.txz}" ]||[ "$SRC" != "${SRC%.tar.xz}" ];then txzd "." "$SRC";else txza "${SRC%%/*}.txz" "$SRC";fi;done;};txza(){ local ARCHIVE="${1:?No archive to create...}";shift;tar -cvJf "$ARCHIVE" "$@";};txzd(){ local DST="${1:?No output directory specified...}";local SRC;shift;mkdir -p "$DST";for SRC;do tar -xvJf "$SRC" -C "$DST";done;};txzg(){ local KEY="${1:?No encryption key specified...}";shift;for SRC;do if [ "$SRC" != "${SRC%.txz.gpg}" ];then txzgd "." "$SRC";else txzga "$KEY" "${SRC%%/*}.txz.gpg" "$SRC";fi;done;};txzga(){ local KEY="${1:?No encryption key specified...}";local ARCHIVE="${2:?No archive to create...}";shift 2;tar -cvJf - "$@"|gpg --encrypt --batch --recipient "$KEY">"$ARCHIVE";};txzgd(){ local DST="${1:?No output directory specified...}";local SRC;shift 1;mkdir -p "$DST";for SRC;do gpg --decrypt --batch "$SRC"|tar -xvJf - -C "$DST";done;};t7z(){ for SRC;do if [ "$SRC" != "${SRC%.tar.7z}" ];then t7zd "." "$SRC";else t7za "${SRC%%/*}.tar.7z" "$SRC";fi;done;};t7za(){ local ARCHIVE="${1:?No archive to create...}";shift 1;tar -cf - "$@"|7z a -t7z -m0=lzma -mx=9 -mfb=64 -md=32m -ms=off -si "$ARCHIVE";};t7zd(){ local DST="${1:?No output directory specified...}";local SRC;shift 1;mkdir -p "$DST";for SRC;do 7z x -so "$SRC"|tar -xf - -C "$DST";done;};t7zg(){ local KEY="${1:?No encryption key specified...}";shift;for SRC;do if [ "$SRC" != "${SRC%.tar.7z.gpg}" ];then t7zgd "." "$SRC";else t7zga "$KEY" "${SRC%%/*}.tar.7z.gpg" "$SRC";fi;done;};t7zga(){ local KEY="${1:?No encryption key specified...}";local ARCHIVE="${2:?No archive to create...}";shift 2;local TMP="$(mktemp --suffix=.7z -u)";tar -cf - "$@"|eval 7z a -t7z -m0=lzma -mx=9 -mfb=64 -md=32m -ms=off -si "$TMP";gpg --encrypt --batch --recipient "$KEY" -o "$ARCHIVE" "$TMP";rm "$TMP";};t7zgd(){ local DST="${1:?No output directory specified...}";local SRC;shift 1;mkdir -p "$DST";for SRC;do local TMP="$(mktemp --suffix=.7z -u)";gpg --decrypt --batch -o "$TMP" "$SRC";7z x -so "$TMP"|tar -xf - -C "$DST";rm "$TMP";done;};[ "${1#ta}" != "$1" ]&&"$@"||true;[ "${1#tb}" != "$1" ]&&"$@"||true;[ "${1#tg}" != "$1" ]&&"$@"||true;[ "${1#txz}" != "$1" ]&&"$@"||true;[ "${1#t7z}" != "$1" ]&&"$@"||true