xzq(){ for SRC;do if [ "$SRC" != "${SRC%.xz}" ];then xzd "." "$SRC";else xza "${SRC%%/*}.xz" "$SRC";fi;done;};xza(){ local ARCHIVE="${1:?No archive to create...}";shift 1;command xz -zk9c "$@">"$ARCHIVE";};xzd(){ local DST="${1:?No output directory specified...}";local SRC;shift 1;mkdir -p "$DST";(command cd "$DST";for SRC;do command xz -dk "$SRC";done;);};xzg(){ local KEY="${1:?No encryption key specified...}";shift;for SRC;do if [ "$SRC" != "${SRC%.xz.gpg}" ];then xzgd "." "$SRC";else xzga "$KEY" "${SRC%%/*}.xz.gpg" "$SRC";fi;done;};xzga(){ local KEY="${1:?No encryption key specified...}";local ARCHIVE="${2:?No archive to create...}";shift 2;command xz -zk9c "$@"|gpg --encrypt --batch --recipient "$KEY">"$ARCHIVE";};xzgd(){ local DST="${1:?No output directory specified...}";local SRC;shift 1;mkdir -p "$DST";(command cd "$DST";for SRC;do gpg --decrypt --batch "$SRC"|command xz -d>"${SRC%.xz.gpg}";done;);};[ "${1#xz}" != "$1" ]&&"$@"||true