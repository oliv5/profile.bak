gz(){ for SRC;do if [ "$SRC" != "${SRC%.gz}" ];then gzd "." "$SRC";else gza "${SRC%%/*}.gz" "$SRC";fi;done;};gza(){ local SRC;for SRC;do gzip -rk9 "$SRC";done;};gzd(){ local SRC;for SRC;do gunzip -dk "$SRC";done;};gzt(){ local RES=0;local SRC;for SRC;do gzip -tq "$SRC"||RES=$?;done;return $RES;};gzg(){ local KEY="${1:?No encryption key specified...}";shift;for SRC;do if [ "$SRC" != "${SRC%.gz.gpg}" ];then gzgd "." "$SRC";else gzga "$KEY" "${SRC%%/*}.gz.gpg" "$SRC";fi;done;};gzga(){ local KEY="${1:?No encryption key specified...}";local ARCHIVE="${2:?No archive to create...}";shift 2;zip -r9 - "$@"|gpg --encrypt --recipient "$KEY">"$ARCHIVE";};gzgd(){ local DST="${1:?No output directory specified...}";local SRC;shift 1;mkdir -p "$DST";for SRC;do gpg --decrypt --batch "$SRC"|funzip>"$DST/$(basename "${SRC%.gz.gpg}")";done;};[ "${1#gz}" != "$1" ]&&"$@"||true